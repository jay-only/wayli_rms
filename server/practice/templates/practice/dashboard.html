{% extends "home/home.html" %}

{% block content %}
<div class="container-fluid px-4">
    <h1 class="mt-4">Dashboard</h1>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item active">Dashboard</li>
    </ol>
    
    <!-- Summary Cards Row -->
    <div class="row">
        <div class="col-xl-3 col-md-6">
            <div class="card bg-primary text-white mb-4">
                <div class="card-body">Total Sales</div>
                <div class="card-footer d-flex align-items-center justify-content-between">
                    <h5>$45,000</h5>
                    <a class="small text-white stretched-link" href="#">View Details</a>
                    <div class="small text-white"><i class="fas fa-arrow-circle-right"></i></div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-md-6">
            <div class="card bg-warning text-white mb-4">
                <div class="card-body">Pending Orders</div>
                <div class="card-footer d-flex align-items-center justify-content-between">
                    <h5>35</h5>
                    <a class="small text-white stretched-link" href="#">View Details</a>
                    <div class="small text-white"><i class="fas fa-arrow-circle-right"></i></div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-md-6">
            <div class="card bg-success text-white mb-4">
                <div class="card-body">Customers</div>
                <div class="card-footer d-flex align-items-center justify-content-between">
                    <h5>150</h5>
                    <a class="small text-white stretched-link" href="#">View Details</a>
                    <div class="small text-white"><i class="fas fa-arrow-circle-right"></i></div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-md-6">
            <div class="card bg-danger text-white mb-4">
                <div class="card-body">Daily Income</div>
                <div class="card-footer d-flex align-items-center justify-content-between">
                    <h5>$2,000</h5>
                    <a class="small text-white stretched-link" href="#">View Details</a>
                    <div class="small text-white"><i class="fas fa-arrow-circle-right"></i></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Charts Row -->
    <div class="row">
        <div class="col-xl-8">
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-area me-1"></i>
                    Sales Overview
                </div>
                <div class="card-body">
                    <canvas id="salesChart" width="100%" height="40"></canvas>
                </div>
            </div>
        </div>
        <div class="col-xl-4">
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-pie me-1"></i>
                    Order Types
                </div>
                <div class="card-body">
                    <canvas id="orderTypeChart" width="100%" height="40"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Data Tables -->
    <div class="card mb-4">
        <div class="card-header">
            <i class="fas fa-table me-1"></i>
            Recent Orders
        </div>
        <div class="card-body">
            <table id="datatablesSimple" class="table table-striped">
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Customer</th>
                        <th>Order Date</th>
                        <th>Status</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>#001</td>
                        <td>John Doe</td>
                        <td>2024-11-13</td>
                        <td>Completed</td>
                        <td>$150</td>
                    </tr>
                    <tr>
                        <td>#002</td>
                        <td>Jane Smith</td>
                        <td>2024-11-13</td>
                        <td>Pending</td>
                        <td>$200</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Sales Chart
    var ctx = document.getElementById("salesChart").getContext("2d");
    var salesChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ["January", "February", "March", "April", "May", "June"],
            datasets: [{
                label: "Sales",
                backgroundColor: "rgba(2,117,216,0.2)",
                borderColor: "rgba(2,117,216,1)",
                data: [10000, 15000, 12500, 20000, 18000, 22000],
            }],
        },
        options: {
            scales: {
                x: {beginAtZero: true},
                y: {beginAtZero: true}
            }
        }
    });

    // Order Type Chart
    var ctx = document.getElementById("orderTypeChart").getContext("2d");
    var orderTypeChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ["Dine-In", "Takeaway", "Delivery"],
            datasets: [{
                data: [55, 25, 20],
                backgroundColor: ["#007bff", "#dc3545", "#ffc107"],
            }],
        }
    });

    // DataTable Initialization
    document.addEventListener('DOMContentLoaded', function () {
        var table = new simpleDatatables.DataTable("#datatablesSimple");
    });
</script>
{% endblock %}
